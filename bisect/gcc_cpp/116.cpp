unsigned short m;
#include <algorithm>
unsigned short func(int a, int f) {
    return std::min(f ? m : a, ~0);
}

